<app-title  title="Payment Process "></app-title>

<div style="display:inline-flex;" class="col-sm-12 col-md-12 mytable1">
		<div *ngIf="divisions != undefined">
			<label> Division  </label>
			<select [(ngModel)]="selectedDivision" (change)="placeChange($event, 2)">
				<option *ngFor="let item of divisions" [value]="item.key">{{item.value}}</option>
			</select>
		</div>
		
<!-- 		<div *ngIf="subDivisions != undefined">
			<label> Sub Division  </label>
			<select [(ngModel)]="selectedSubDivision" (change)="placeChange($event, 4)">
				<option value="">--All-- </option>
				<option *ngFor="let item of subDivisions" [value]="item.key">{{item.value}}</option>
			</select>
		</div> -->
		<div>
			<span>Month</span>
			<select [(ngModel)]="selMonth">
				<option *ngFor="let item of months; let idx=index " [value]="idx+1">{{item}}</option>
			</select>
			<span>Year</span>
			<input type="number" [(ngModel)]="selYear"  required />
		</div>
		<div>
			<button class="btn btn-primary" (click)="getBillGroups()"> Bill Groups </button>
		</div>
		<div *ngIf="billGroups != undefined">
				<label> Group  </label>
				<select [(ngModel)]="selectedBillGroup" >
					<option *ngFor="let item of billGroups" [value]="item.key">{{item.value}}</option>
				</select>
			</div>

	<div>
		<button class="btn btn-primary" (click)="process()" [disabled]="selectedBillGroup==null || selectedBillGroup == undefined"> Proceed </button>
	</div>
</div>
<div *ngIf="pdata != null && pdata.length >0">
	<table class="table">
		<tr>
			<th>Bill No</th>
			<th>Amount </th>
			<th>Paid</th>
			<th>Over Paid / Balance</th>
			<th>Process Date</th>
		</tr>
		<tr *ngFor="let pd of pdata" >
			<td>{{pd.billNo}}</td>
			<td>{{pd.amount}}</td>
			<td>{{pd.paid}}</td>
			<td>{{pd.balance}}</td>
			<td>{{pd.processedAt |date :'dd-MM-yyyy'}}</td>
		</tr>
	</table>				
	
</div>
